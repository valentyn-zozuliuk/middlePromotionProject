"use strict";(self.webpackChunkmiddle_promotion_project=self.webpackChunkmiddle_promotion_project||[]).push([[561],{3561:(Be,T,a)=>{a.r(T),a.d(T,{ArticlesModule:()=>He});var s=a(6019),e=a(3668),_=a(3886);let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-articles"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},directives:[_.lC],styles:[""]}),n})();var p=a(6263),d=a(9418),h=a(8014),C=a(9673),f=a(2722),P=a(952),M=a(9112),m=(()=>{return(n=m||(m={})).LVIV="Lviv",n.KYIV="Kyiv",n.ODESA="Odesa",m;var n})(),O=(()=>((O||(O={})).UA="UA",O))(),q=a(583),A=a(7942),x=a(888);let k=(()=>{class n{transform(t){switch(t){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"-"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"weekday",type:n,pure:!0}),n})(),U=(()=>{class n{transform(t,...i){return t?+Math.round(t):"-"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"weather",type:n,pure:!0}),n})();function E(n,o){1&n&&e._UZ(0,"div",15)}function J(n,o){1&n&&(e.TgZ(0,"mat-icon",20),e._uU(1,"check"),e.qZA())}const Y=function(n){return{"selected-item":n}};function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(r){const c=e.CHM(t),l=c.$implicit,u=c.index;return e.oxw(3).selectItem(l,r,u)}),e._uU(1),e.YNc(2,J,2,0,"mat-icon",19),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,Y,t.selected)),e.xp6(1),e.hij(" ",t.name+", "+t.displayCode," "),e.xp6(1),e.Q6J("ngIf",t.selected)}}function D(n,o){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,N,3,5,"div",17),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.weatherCities)}}function S(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2),e.TgZ(2,"p"),e._uU(3,"WEATHER WIDGET"),e.qZA(),e.TgZ(4,"mat-icon",3),e.NdJ("click",function(r){return e.CHM(t),e.oxw().toggleMenu(r)}),e._uU(5,"more_horiz"),e.qZA(),e.YNc(6,E,1,0,"div",4),e.YNc(7,D,2,1,"div",5),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"p",7),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"p",8),e._uU(13),e.ALo(14,"weekday"),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",10),e.TgZ(17,"p",11),e._uU(18),e.ALo(19,"weather"),e.TgZ(20,"span"),e._uU(21,"\xb0C"),e.qZA(),e.qZA(),e.TgZ(22,"p",12),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"div",13),e._UZ(25,"img",14),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(6),e.Q6J("ngIf",i.showWeatherMenu),e.xp6(1),e.Q6J("ngIf",i.showWeatherMenu),e.xp6(3),e.Oqu(e.xi3(11,8,t.date,"MMMM d")),e.xp6(3),e.Oqu(e.lcZ(14,11,t.weekDay)),e.xp6(5),e.hij(" ",e.lcZ(19,13,t.temperature)," "),e.xp6(5),e.AsE("",t.city,", ",i.getCountryText(t.country),""),e.xp6(2),e.Q6J("src","http://openweathermap.org/img/wn/"+t.icon+"@2x.png",e.LSH)}}function L(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Q(n,o){if(1&n&&(e.ynx(0),e.YNc(1,L,2,1,"p",21),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}let H=(()=>{class n extends h.F{constructor(t,i,r){super(),this.weatherService=t,this.messages=i,this.globalEventsService=r,this.weatherInfo$=null,this.errors$=null,this.showWeatherMenu=!1,this.weatherCities=[{name:m.LVIV,code:"UA",displayCode:"Ua",selected:!0},{name:m.KYIV,code:"UA",displayCode:"Ua",selected:!1},{name:m.ODESA,code:"UA",displayCode:"Ua",selected:!1}]}ngOnInit(){this.messages.clearMessages(),this.selectItem(this.weatherCities[0]),this.weatherInfo$=this.weatherService.weatherInfo$,this.errors$=this.messages.errors$,this.globalEventsService.globalClickHandler$.pipe((0,p.R)(this.destroy$)).subscribe(()=>this.showWeatherMenu=!1)}toggleMenu(t){t.stopPropagation(),this.showWeatherMenu=!this.showWeatherMenu}selectItem(t,i=null,r=null){i&&i.stopPropagation(),null!==r&&this.refreshSelectedCity(r),this.weatherService.getWeatherInfo(t.name,t.code),this.showWeatherMenu=!1}getCountryText(t){return t===O.UA?"Ua":"-"}refreshSelectedCity(t){this.weatherCities.forEach(i=>{i.selected=!1}),this.weatherCities[t].selected=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.F),e.Y36(A.K),e.Y36(C.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weather"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"widget-card"],[4,"ngIf"],[1,"widget-header","d-flex","justify-content-between"],[1,"more-icon",3,"click"],["class","icon-background",4,"ngIf"],["class","menu",4,"ngIf"],[1,"widget-date"],[1,"month-day"],[1,"week-day"],[1,"widget-temp-location","d-flex","justify-content-between"],[1,"left-part"],[1,"temperature"],[1,"location"],[1,"weather-icon","d-flex","align-items-center"],["alt","",3,"src"],[1,"icon-background"],[1,"menu"],["class","menu-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"ngClass","click"],["class","check-icon",4,"ngIf"],[1,"check-icon"],["class","text-danger text-center",4,"ngFor","ngForOf"],[1,"text-danger","text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.YNc(1,S,26,15,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Q,2,1,"ng-container",1),e.ALo(4,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.weatherInfo$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,i.errors$)))},directives:[x.a8,s.O5,M.Hw,s.sg,s.mk],pipes:[s.Ov,s.uU,k,U],styles:[".widget-card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 24px 64px #00000008;font-size:13px;padding-left:20px;padding-right:20px}.widget-card[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6e798c}.widget-card[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{color:#6f7c8b;position:relative;cursor:pointer;bottom:5px;z-index:2}.widget-card[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]   .icon-background[_ngcontent-%COMP%]{position:absolute;right:20px;top:11px;height:24px;width:24px;background:rgba(0,0,0,.1);border-radius:50%;z-index:1}.widget-card[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{top:40px;right:15px}.widget-card[_ngcontent-%COMP%]   .widget-date[_ngcontent-%COMP%]   .month-day[_ngcontent-%COMP%]{color:#081f32;font-size:21px;margin-bottom:5px}.widget-card[_ngcontent-%COMP%]   .widget-date[_ngcontent-%COMP%]   .week-day[_ngcontent-%COMP%]{color:#6e798c}.widget-card[_ngcontent-%COMP%]   .widget-temp-location[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{position:relative;color:#2e384d;font-size:60px;line-height:60px;font-weight:600;margin-bottom:5px}.widget-card[_ngcontent-%COMP%]   .widget-temp-location[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;position:absolute;top:7px;line-height:18px}.widget-card[_ngcontent-%COMP%]   .widget-temp-location[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#374a59}.widget-card[_ngcontent-%COMP%]   .widget-temp-location[_ngcontent-%COMP%]   .weather-icon[_ngcontent-%COMP%]{position:relative;bottom:5px;margin-right:40px}"]}),n})(),y=(()=>{class n{transform(t){const i=(new Date).getTime(),r=Math.floor((i-t)/864e5);switch(r){case 0:return"today";case 1:return r+" day ago";default:return r+" days ago"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"articleDaysAgo",type:n,pure:!0}),n})(),B=(()=>{class n{transform(t,...i){const r=i[0]?i[0]:100;return t.length>r?t.substring(0,r)+"...":t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"textTruncate",type:n,pure:!0}),n})();function $(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",18),e.NdJ("click",function(r){return e.CHM(t),e.oxw(2).toggleMenu(r)}),e._uU(1,"more_horiz"),e.qZA()}}function j(n,o){1&n&&e._UZ(0,"div",19)}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e.TgZ(1,"div",21),e.NdJ("click",function(r){return e.CHM(t),e.oxw(2).editArticle(r)}),e._uU(2," Edit "),e.qZA(),e.TgZ(3,"div",22),e.NdJ("click",function(r){return e.CHM(t),e.oxw(2).deleteArticle(r)}),e._uU(4," Delete "),e.qZA(),e.qZA()}}function W(n,o){1&n&&e._UZ(0,"img",23)}function R(n,o){if(1&n&&e._UZ(0,"img",24),2&n){const t=e.oxw(2);e.Q6J("src",t.article.coverImage,e.LSH)}}const V=function(n,o,t,i,r){return{"business-background":n,"media-background":o,"productivity-background":t,"article-image":i,"article-image-full":r}},G=function(n){return{"image-not-default":n}};function K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",1),e.YNc(1,$,2,0,"mat-icon",2),e.YNc(2,j,1,0,"div",3),e.YNc(3,z,5,0,"div",4),e.TgZ(4,"div",5),e.YNc(5,W,1,0,"img",6),e.YNc(6,R,1,1,"img",7),e.qZA(),e.TgZ(7,"div",8),e.TgZ(8,"div",9),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"date"),e.ALo(14,"articleDaysAgo"),e.qZA(),e.qZA(),e.TgZ(15,"div",10),e.TgZ(16,"h5"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.ALo(20,"textTruncate"),e.qZA(),e.qZA(),e.TgZ(21,"div",11),e.TgZ(22,"div",12),e.TgZ(23,"div",13),e._UZ(24,"img",14),e.qZA(),e.TgZ(25,"div",15),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"a",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().showArticle()}),e.TgZ(28,"span"),e._uU(29,"Read More"),e.qZA(),e.TgZ(30,"mat-icon",17),e._uU(31,"arrow_forward"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.userInfo?null:t.userInfo.id)===t.article.createdBy.uid),e.xp6(1),e.Q6J("ngIf",t.showEditMenu),e.xp6(1),e.Q6J("ngIf",t.showEditMenu),e.xp6(1),e.Q6J("ngClass",e.qbA(21,V,t.article.type===t.articleTypes.business,t.article.type===t.articleTypes.meida,t.article.type===t.articleTypes.productivity,!t.article.coverImage,t.article.coverImage)),e.xp6(1),e.Q6J("ngIf",!t.article.coverImage),e.xp6(1),e.Q6J("ngIf",t.article.coverImage),e.xp6(4),e.Oqu(t.article.type),e.xp6(2),e.Oqu(t.ifDaysAgoNeeded(t.article.updatedDate)?e.xi3(13,13,t.article.updatedDate,"d MMMM YYYY"):e.lcZ(14,16,t.article.updatedDate)),e.xp6(5),e.Oqu(t.article.title),e.xp6(2),e.hij(" ",e.xi3(20,18,t.article.description,220)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(27,G,t.article.createdBy.image))("src",t.article.createdBy.image?t.article.createdBy.image:"assets/images/no-avatar-img.png",e.LSH),e.xp6(2),e.hij(" ",t.article.createdBy.name," ")}}let X=(()=>{class n extends h.F{constructor(t,i,r){super(),this.globalEventsService=t,this.articlesService=i,this.router=r,this.article=null,this.userInfo=null,this.showEditMenu=!1,this.articleTypes={business:d.po.BUSINESS,productivity:d.po.PRODUCTIVITY,meida:d.po.MEDIA}}ngOnInit(){this.globalEventsService.globalClickHandler$.pipe((0,p.R)(this.destroy$)).subscribe(()=>this.showEditMenu=!1)}ifDaysAgoNeeded(t){return!!t&&(new Date).getTime()-t>=1728e6}toggleMenu(t){t.stopPropagation(),this.showEditMenu=!this.showEditMenu}editArticle(t){var i;t.stopPropagation(),this.showEditMenu=!1,this.router.navigate(["/user-console/articles/"+(null===(i=this.article)||void 0===i?void 0:i.uid)+"/edit"])}deleteArticle(t){var i;t.stopPropagation(),this.showEditMenu=!1,this.articlesService.deleteArticle(null===(i=this.article)||void 0===i?void 0:i.uid)}showArticle(){var t;this.router.navigate(["/user-console/articles/"+(null===(t=this.article)||void 0===t?void 0:t.uid)])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.h),e.Y36(f.J),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-article"]],inputs:{article:"article",userInfo:"userInfo"},features:[e.qOj],decls:1,vars:1,consts:[["class","article article-in-list",4,"ngIf"],[1,"article","article-in-list"],["class","more-icon article-more-icon",3,"click",4,"ngIf"],["class","icon-background",4,"ngIf"],["class","menu",4,"ngIf"],[3,"ngClass"],["src","assets/images/laptop.png","alt","Laptop","class","src",4,"ngIf"],["alt","Cover imaage","class","src",3,"src",4,"ngIf"],[1,"artcle-desc"],[1,"top-desc","d-flex","justify-content-between"],[1,"mid-desc"],[1,"bottom-desc","d-flex","justify-content-between"],[1,"avatar-wrapper","d-flex","justify-content-center","align-items-center"],[1,"user-avatar"],["alt","image",1,"avatar-image",3,"ngClass","src"],[1,"user-name"],[1,"link",3,"click"],[1,"read-more-icon"],[1,"more-icon","article-more-icon",3,"click"],[1,"icon-background"],[1,"menu"],[1,"menu-item","edit-item",3,"click"],[1,"menu-item","delete-item",3,"click"],["src","assets/images/laptop.png","alt","Laptop",1,"src"],["alt","Cover imaage",1,"src",3,"src"]],template:function(t,i){1&t&&e.YNc(0,K,32,29,"mat-card",0),2&t&&e.Q6J("ngIf",i.article)},directives:[s.O5,x.a8,s.mk,M.Hw],pipes:[s.uU,y,B],styles:[".article[_ngcontent-%COMP%]{padding:0;font-size:13px;box-shadow:0 24px 64px #00000008}.article[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;color:#fff;cursor:pointer;z-index:2}.article[_ngcontent-%COMP%]   .icon-background[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px;height:24px;width:24px;background:rgba(255,255,255,.2);border-radius:50%;z-index:1}.article[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{top:35px;right:15px}.article[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]{height:160px;display:flex;justify-content:center;align-items:center}.article[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.article[_ngcontent-%COMP%]   .article-image-full[_ngcontent-%COMP%]{height:160px;overflow:hidden}.article[_ngcontent-%COMP%]   .article-image-full[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.article[_ngcontent-%COMP%]   .media-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#F395BA 0%,#FED182 100%)}.article[_ngcontent-%COMP%]   .productivity-background[_ngcontent-%COMP%]{background:#BCD1FF}.article[_ngcontent-%COMP%]   .business-background[_ngcontent-%COMP%]{background:linear-gradient(0deg,#D2EBF7,#D2EBF7),#BCD1FF}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]{padding:15px 20px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .top-desc[_ngcontent-%COMP%]{color:#6e798c}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .top-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .mid-desc[_ngcontent-%COMP%]{height:150px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .mid-desc[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:21px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{position:relative;height:32px;width:32px;border-radius:50%;overflow:hidden;margin-right:10px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{height:32px;width:32px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar-image.image-not-default[_ngcontent-%COMP%]{position:absolute;width:49px;height:auto;top:50%;left:50%;transform:translate(-50%,-50%)}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#2e5bff}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{height:33px;line-height:33px;font-weight:500}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px;font-size:11px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   .read-more-icon[_ngcontent-%COMP%]{font-size:10px;height:10px;width:10px;vertical-align:middle}"]}),n})();function ee(n,o){1&n&&(e.TgZ(0,"mat-icon",16),e._uU(1,"keyboard_arrow_down"),e.qZA())}function te(n,o){1&n&&(e.TgZ(0,"mat-icon",16),e._uU(1,"keyboard_arrow_up"),e.qZA())}function ne(n,o){1&n&&(e.TgZ(0,"mat-icon",21),e._uU(1,"check"),e.qZA())}const Z=function(n){return{"selected-item":n}};function ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19),e.NdJ("click",function(r){const c=e.CHM(t),l=c.$implicit,u=c.index;return e.oxw(2).sortByType(l,r,u)}),e._uU(1),e.YNc(2,ne,2,0,"mat-icon",20),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,Z,t.selected)),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.selected)}}function oe(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,ie,3,5,"div",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.articleTypeFilters)}}function re(n,o){1&n&&(e.TgZ(0,"mat-icon",16),e._uU(1,"keyboard_arrow_down"),e.qZA())}function ce(n,o){1&n&&(e.TgZ(0,"mat-icon",16),e._uU(1,"keyboard_arrow_up"),e.qZA())}function ae(n,o){1&n&&(e.TgZ(0,"mat-icon",21),e._uU(1,"check"),e.qZA())}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(r){const c=e.CHM(t),l=c.$implicit,u=c.index;return e.oxw(2).sortByOrder(l,r,u)}),e._uU(1),e.YNc(2,ae,2,0,"mat-icon",20),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,Z,t.selected)),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.selected)}}function le(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,se,3,5,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.articleOrderFilters)}}function de(n,o){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"app-article",27),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("article",t)("userInfo",i.userInfo)}}function ge(n,o){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,de,2,2,"div",25),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}let pe=(()=>{class n extends h.F{constructor(t,i,r,c){super(),this.router=t,this.globalEventsService=i,this.articlesService=r,this.auth=c,this.showTypeFilterMenu=!1,this.showOrderFilterMenu=!1,this.selectedTypeFilter=void 0,this.selectedOrderFilter=void 0,this.articleTypeFilters=[{name:"All Categories",code:d.xq.ALL,selected:!0},{name:"Business",code:d.xq.BUSINESS,selected:!1},{name:"Productivity",code:d.xq.PRODUCTIVITY,selected:!1},{name:"Media",code:d.xq.MEDIA,selected:!1}],this.articleOrderFilters=[{name:"Ascending",code:d.Ub.ASC,selected:!0},{name:"Descending",code:d.Ub.DESC,selected:!1}],this.articles$=null,this.userInfo=null}ngOnInit(){this.articlesService.resetFilters(),this.globalEventsService.globalClickHandler$.pipe((0,p.R)(this.destroy$)).subscribe(()=>{this.showTypeFilterMenu=!1,this.showOrderFilterMenu=!1}),this.getSelectedType(),this.getSelectedOrder(),this.articles$=this.articlesService.articles$,this.auth.user.pipe((0,p.R)(this.destroy$)).subscribe(t=>{this.userInfo=t})}addNewArticle(){this.router.navigate(["/user-console/articles/new"])}toggleTypeFilter(t){t.stopPropagation(),this.showTypeFilterMenu=!this.showTypeFilterMenu}toggleOrderFilter(t){t.stopPropagation(),this.showOrderFilterMenu=!this.showOrderFilterMenu}sortByType(t,i=null,r=null){i&&i.stopPropagation(),null!==r&&this.refreshTypeFilter(r),this.getSelectedType(),this.showTypeFilterMenu=!1,this.articlesService.updateTypeFilter(t.code)}sortByOrder(t,i=null,r=null){i&&i.stopPropagation(),null!==r&&this.refreshOrderFilter(r),this.getSelectedOrder(),this.showOrderFilterMenu=!1,this.articlesService.updateOrderFilter(t.code)}refreshTypeFilter(t){this.articleTypeFilters.forEach(i=>{i.selected=!1}),this.articleTypeFilters[t].selected=!0}refreshOrderFilter(t){this.articleOrderFilters.forEach(i=>{i.selected=!1}),this.articleOrderFilters[t].selected=!0}getSelectedType(){var t;this.selectedTypeFilter=null===(t=this.articleTypeFilters.find(i=>i.selected))||void 0===t?void 0:t.name}getSelectedOrder(){var t;this.selectedOrderFilter=null===(t=this.articleOrderFilters.find(i=>i.selected))||void 0===t?void 0:t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(C.h),e.Y36(f.J),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-article-list"]],features:[e.qOj],decls:32,vars:11,consts:[[1,"article-list"],[1,"row","top-row","artciles-max-width"],[1,"col-md-6","firs-part-top-section"],[1,"page-header","spacer-0"],[1,"show-button","button-small",3,"click"],[1,"inactive-state"],[1,"active-state"],["class","button-icon",4,"ngIf"],["class","menu",4,"ngIf"],[1,"col-md-6"],[1,"sort-by-button","button-small",3,"click"],["class","row artciles-max-width",4,"ngIf"],[1,"side-content"],[1,"row","top-row"],[1,"col"],[1,"add-article-button","button-small","primary-button",3,"click"],[1,"button-icon"],[1,"menu"],["class","menu-item type-filter-menu",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"menu-item","type-filter-menu",3,"ngClass","click"],["class","check-icon",4,"ngIf"],[1,"check-icon"],["class","menu-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"ngClass","click"],[1,"row","artciles-max-width"],["class","col-xl-6",4,"ngFor","ngForOf"],[1,"col-xl-6"],[3,"article","userInfo"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Articles Dashboard"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(c){return i.toggleTypeFilter(c)}),e.TgZ(6,"span",5),e._uU(7,"Show:"),e.qZA(),e.TgZ(8,"span",6),e._uU(9),e.qZA(),e.YNc(10,ee,2,0,"mat-icon",7),e.YNc(11,te,2,0,"mat-icon",7),e.YNc(12,oe,2,1,"div",8),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"button",10),e.NdJ("click",function(c){return i.toggleOrderFilter(c)}),e.TgZ(15,"span",5),e._uU(16,"Sort by:"),e.qZA(),e.TgZ(17,"span",6),e._uU(18),e.qZA(),e.YNc(19,re,2,0,"mat-icon",7),e.YNc(20,ce,2,0,"mat-icon",7),e.YNc(21,le,2,1,"div",8),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,ge,2,1,"div",11),e.ALo(23,"async"),e.qZA(),e.TgZ(24,"div",12),e.TgZ(25,"div",13),e.TgZ(26,"div",14),e.TgZ(27,"button",15),e.NdJ("click",function(){return i.addNewArticle()}),e.TgZ(28,"mat-icon",16),e._uU(29,"add"),e.qZA(),e._uU(30," Add article "),e.qZA(),e.qZA(),e.qZA(),e._UZ(31,"app-weather"),e.qZA()),2&t&&(e.xp6(9),e.Oqu(i.selectedTypeFilter),e.xp6(1),e.Q6J("ngIf",!i.showTypeFilterMenu),e.xp6(1),e.Q6J("ngIf",i.showTypeFilterMenu),e.xp6(1),e.Q6J("ngIf",i.showTypeFilterMenu),e.xp6(6),e.Oqu(i.selectedOrderFilter),e.xp6(1),e.Q6J("ngIf",!i.showOrderFilterMenu),e.xp6(1),e.Q6J("ngIf",i.showOrderFilterMenu),e.xp6(1),e.Q6J("ngIf",i.showOrderFilterMenu),e.xp6(1),e.Q6J("ngIf",e.lcZ(23,9,i.articles$)))},directives:[s.O5,M.Hw,H,s.sg,s.mk,X],pipes:[s.Ov],styles:["[_nghost-%COMP%]{display:flex}.article-list[_ngcontent-%COMP%]{width:calc(100% - 335px)}.article-list[_ngcontent-%COMP%]   .firs-part-top-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.article-list[_ngcontent-%COMP%]   .firs-part-top-section[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{font-size:21px;font-weight:700;align-self:center}.article-list[_ngcontent-%COMP%]   .col-xl-6[_ngcontent-%COMP%]{margin-bottom:25px}.article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]{background-color:transparent}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%]{background-color:#fff}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%]   span.active-state[_ngcontent-%COMP%]{border-right:1px solid #EAEDF3;padding-right:10px}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%], .article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]{position:relative;float:right;padding:0}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding-top:10px;padding-bottom:10px}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%]   span.inactive-state[_ngcontent-%COMP%], .article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]   span.inactive-state[_ngcontent-%COMP%]{color:#6f7c8b80;margin-right:5px;margin-left:10px}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%], .article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{vertical-align:middle;padding-right:2px;padding-left:2px;line-height:38px;text-align:center;height:38px;width:26px;font-size:22px;color:#6f7c8b}.article-list[_ngcontent-%COMP%]   .sort-by-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], .article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{margin-top:5px;text-align:left;width:100%}.article-list[_ngcontent-%COMP%]   .artciles-max-width[_ngcontent-%COMP%]{max-width:1000px}.top-row[_ngcontent-%COMP%]{margin-bottom:20px}.side-content[_ngcontent-%COMP%]{width:300px;margin-left:35px}.side-content[_ngcontent-%COMP%]   .add-article-button[_ngcontent-%COMP%]{float:right}.side-content[_ngcontent-%COMP%]   .add-article-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{vertical-align:top;font-size:22px;height:18px}@media screen and (max-width: 1415px){.article-list[_ngcontent-%COMP%]   .firs-part-top-section[_ngcontent-%COMP%]{display:block}.article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]{background-color:transparent;float:left}.article-list[_ngcontent-%COMP%]   .show-button[_ngcontent-%COMP%]   span.inactive-state[_ngcontent-%COMP%]{margin-left:0}}"]}),n})();var g=a(9133),_e=a(2112),ue=a(9169);function me(n,o){1&n&&(e.TgZ(0,"h5"),e._uU(1,"Add new article"),e.qZA())}function he(n,o){1&n&&(e.TgZ(0,"h5"),e._uU(1,"Edit Article"),e.qZA())}function fe(n,o){1&n&&(e.TgZ(0,"span",26),e._uU(1,"Please select type"),e.qZA())}function Ce(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedTypeFilter)}}function Me(n,o){1&n&&(e.TgZ(0,"mat-icon",27),e._uU(1,"keyboard_arrow_down"),e.qZA())}function Oe(n,o){1&n&&(e.TgZ(0,"mat-icon",27),e._uU(1,"keyboard_arrow_up"),e.qZA())}function xe(n,o){1&n&&(e.TgZ(0,"mat-icon",32),e._uU(1,"check"),e.qZA())}const ve=function(n){return{"selected-item":n}};function Pe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("click",function(r){const l=e.CHM(t).index;return e.oxw(2).selectType(r,l)}),e._uU(1),e.YNc(2,xe,2,0,"mat-icon",31),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,ve,t.selected)),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.selected)}}function Te(n,o){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,Pe,3,5,"div",29),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.articleTypeFilters)}}function Ae(n,o){if(1&n&&(e.TgZ(0,"p",33),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.imageHandler.imageName," ")}}function ye(n,o){if(1&n&&(e.TgZ(0,"p",34),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.imageHandler.errorImageUpload,"")}}function Ze(n,o){if(1&n&&(e.TgZ(0,"div",35),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("src",t.imageHandler.uploadedImage,e.LSH)}}function we(n,o){if(1&n&&(e.TgZ(0,"p",39),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function be(n,o){if(1&n&&(e.ynx(0),e.YNc(1,we,2,1,"p",38),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function Fe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40),e.TgZ(1,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().backToDashboard()}),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",42),e._uU(4,"Publish"),e.qZA(),e.qZA()}}function Ie(n,o){1&n&&e._UZ(0,"app-loading-spinner")}const qe=function(n,o){return{"active-dropdown":n,"danger-border":o}},ke=function(n){return{"danger-border":n}};let w=(()=>{class n extends h.F{constructor(t,i,r,c,l,u,v){super(),this.route=t,this.formBuilder=i,this.router=r,this.globalEventsService=c,this.articlesService=l,this.auth=u,this.messages=v,this.editMode=!1,this.showTypeFilterMenu=!1,this.userProfile=null,this.article=null,this.errors$=null,this.showLoading=!1,this.imageHandler={imageName:"",uploadedImage:"",errorImageUpload:""},this.articleTypeFilters=[{name:"Business",code:d.xq.BUSINESS,selected:!1},{name:"Productivity",code:d.xq.PRODUCTIVITY,selected:!1},{name:"Media",code:d.xq.MEDIA,selected:!1}]}ngOnInit(){this.messages.clearMessages(),this.errors$=this.messages.errors$,this.articleForm=this.formBuilder.group({title:["",g.kI.required],description:["",g.kI.required],type:["",g.kI.required],image:["",g.kI.required]}),this.auth.user.pipe((0,p.R)(this.destroy$)).subscribe(t=>this.userProfile=t),this.route.params.pipe((0,p.R)(this.destroy$)).subscribe(t=>{this.editMode=t.id}),this.route.data.pipe((0,p.R)(this.destroy$)).subscribe(t=>{var i,r,c,l;!t.article&&this.editMode&&this.router.navigate(["/user-console/articles"]),this.article=t.article,this.editMode&&this.articleForm.patchValue({title:null===(i=this.article)||void 0===i?void 0:i.title,description:null===(r=this.article)||void 0===r?void 0:r.description,type:null===(c=this.article)||void 0===c?void 0:c.type,image:null===(l=this.article)||void 0===l?void 0:l.coverImage}),this.editMode&&this.preselectImage(),this.editMode&&this.preselectType()}),this.globalEventsService.globalClickHandler$.pipe((0,p.R)(this.destroy$)).subscribe(()=>this.showTypeFilterMenu=!1)}preselectImage(){var t;this.imageHandler.uploadedImage=(null===(t=this.article)||void 0===t?void 0:t.coverImage)?this.article.coverImage:""}preselectType(){this.articleTypeFilters.forEach(t=>{var i;return t.code===(null===(i=this.article)||void 0===i?void 0:i.type)&&(t.selected=!0)}),this.getSelectedType()}backToDashboard(){this.router.navigate(["/user-console/articles"])}toggleType(t){t.stopPropagation(),this.showTypeFilterMenu=!this.showTypeFilterMenu}selectType(t=null,i=null){t&&t.stopPropagation(),null!==i&&this.refreshTypeFilter(i),this.getSelectedType(),this.showTypeFilterMenu=!1,this.articleForm.patchValue({type:this.getSelectedTypeEnum()})}refreshTypeFilter(t){this.articleTypeFilters.forEach(i=>{i.selected=!1}),this.articleTypeFilters[t].selected=!0}getSelectedType(){var t;this.selectedTypeFilter=null===(t=this.articleTypeFilters.find(i=>i.selected))||void 0===t?void 0:t.name}getSelectedTypeEnum(){var t;return null===(t=this.articleTypeFilters.find(i=>i.selected))||void 0===t?void 0:t.code}fileBrowseHandler(t){var i;if(this.imageHandler.uploadedImage="",this.imageHandler.imageName="",this.imageHandler.errorImageUpload="",t.target instanceof HTMLInputElement){const r=null===(i=t.target)||void 0===i?void 0:i.files;this.showPreview(r)}}onFileDropped(t){this.imageHandler.uploadedImage="",this.imageHandler.imageName="",this.imageHandler.errorImageUpload="",this.showPreview(t)}showPreview(t){if(t){const i=t[0].type;if("image/png"!==i&&"image/jpeg"!==i)return void(this.imageHandler.errorImageUpload="Error. Wrong file format.");const r=new FileReader;r.readAsDataURL(t[0]),r.onload=()=>{r.result&&"string"==typeof r.result&&(this.imageHandler.uploadedImage=r.result,this.imageHandler.imageName=t[0].name,this.articleForm.patchValue({image:this.imageHandler.uploadedImage}))}}}onSubmitForm(){var t,i,r,c;if(this.imageHandler.errorImageUpload="",this.imageHandler.uploadedImage||(this.imageHandler.errorImageUpload="Select new image for upload"),this.articleForm.valid){const l={title:this.articleForm.controls.title.value,description:this.articleForm.controls.description.value,type:this.articleForm.controls.type.value,coverImage:this.articleForm.controls.image.value,updatedDate:(new Date).getTime(),createdBy:{image:(null===(t=this.userProfile)||void 0===t?void 0:t.image)?this.userProfile.image:"",name:(null===(i=this.userProfile)||void 0===i?void 0:i.name)?this.userProfile.name:"",uid:(null===(r=this.userProfile)||void 0===r?void 0:r.id)?this.userProfile.id:""}};this.showLoading=!0,this.editMode?this.articlesService.updateArticle(l,null===(c=this.article)||void 0===c?void 0:c.uid).pipe((0,p.R)(this.destroy$)).subscribe({next:()=>this.router.navigate(["/user-console/articles"]),error:()=>this.showLoading=!1,complete:()=>this.showLoading=!1}):this.articlesService.addArticle(l).pipe((0,p.R)(this.destroy$)).subscribe({next:()=>this.router.navigate(["/user-console/articles"]),error:()=>this.showLoading=!1,complete:()=>this.showLoading=!1})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(g.qu),e.Y36(_.F0),e.Y36(C.h),e.Y36(f.J),e.Y36(P.e),e.Y36(A.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-article-edit"]],features:[e.qOj],decls:48,vars:23,consts:[[1,"article-fields"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","title"],["id","title","name","title","type","text","formControlName","title","placeholder","Enter your title"],["for","description"],["id","description","name","description","formControlName","description","placeholder","Enter your text copy"],[1,"col-md-6"],[1,"dropdown-wrapper"],["type","button",1,"article-type-dropdown","dropdown",3,"ngClass","click"],["class","placeholder-like",4,"ngIf"],["class","button-icon",4,"ngIf"],["class","menu",4,"ngIf"],["dragAndDrop","",1,"image-uploader",3,"ngClass","fileDropped"],["type","file","id","fileDropRef","multiple","",3,"change"],["fileDropRef",""],["src","assets/images/upload.png","alt","upload",1,"src"],[1,"image-type"],[1,"upload-desc"],[1,"link"],["class","uploaded-name",4,"ngIf"],["class","text-danger",4,"ngIf"],["class","image-preview",4,"ngIf"],["class","operate-buttons",4,"ngIf"],[1,"placeholder-like"],[1,"button-icon"],[1,"menu"],["class","menu-item type-menu-edit",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"menu-item","type-menu-edit",3,"ngClass","click"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"uploaded-name"],[1,"text-danger"],[1,"image-preview"],[1,"image-wrapper"],["alt","UploadedImage",3,"src"],["class","text-danger text-center",4,"ngFor","ngForOf"],[1,"text-danger","text-center"],[1,"operate-buttons"],["type","button",1,"button","button-outline","button-small",3,"click"],["type","submit",1,"button","primary-button","button-small"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.YNc(1,me,2,0,"h5",1),e.YNc(2,he,2,0,"h5",1),e._UZ(3,"hr"),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return i.onSubmitForm()}),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"label",5),e._uU(8,"Title"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.TgZ(12,"label",7),e._uU(13,"Text"),e.qZA(),e.TgZ(14,"textarea",8),e._uU(15,"                "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",3),e.TgZ(17,"div",9),e.TgZ(18,"label"),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"button",11),e.NdJ("click",function(c){return i.toggleType(c)}),e.YNc(22,fe,2,0,"span",12),e.YNc(23,Ce,2,1,"span",1),e.YNc(24,Me,2,0,"mat-icon",13),e.YNc(25,Oe,2,0,"mat-icon",13),e.qZA(),e.YNc(26,Te,2,1,"div",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"h6"),e._uU(28,"Add cover photo"),e.qZA(),e.TgZ(29,"p"),e._uU(30,"Drag and drop file below"),e.qZA(),e.TgZ(31,"div",15),e.NdJ("fileDropped",function(c){return i.onFileDropped(c)}),e.TgZ(32,"input",16,17),e.NdJ("change",function(c){return i.fileBrowseHandler(c)}),e.qZA(),e._UZ(34,"img",18),e.TgZ(35,"p",19),e._uU(36,".JPG .PNG"),e.qZA(),e.TgZ(37,"p",20),e._uU(38,"You can also upload files by"),e.qZA(),e.TgZ(39,"a",21),e._uU(40,"clicking here"),e.qZA(),e.YNc(41,Ae,2,1,"p",22),e.YNc(42,ye,2,1,"p",23),e.qZA(),e.YNc(43,Ze,3,1,"div",24),e.YNc(44,be,2,1,"ng-container",1),e.ALo(45,"async"),e.YNc(46,Fe,5,0,"div",25),e.YNc(47,Ie,1,0,"app-loading-spinner",1),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.editMode),e.xp6(1),e.Q6J("ngIf",i.editMode),e.xp6(2),e.Q6J("formGroup",i.articleForm),e.xp6(17),e.Q6J("ngClass",e.WLB(18,qe,i.showTypeFilterMenu,!i.selectedTypeFilter)),e.xp6(1),e.Q6J("ngIf",!i.selectedTypeFilter),e.xp6(1),e.Q6J("ngIf",i.selectedTypeFilter),e.xp6(1),e.Q6J("ngIf",!i.showTypeFilterMenu),e.xp6(1),e.Q6J("ngIf",i.showTypeFilterMenu),e.xp6(1),e.Q6J("ngIf",i.showTypeFilterMenu),e.xp6(5),e.Q6J("ngClass",e.VKq(21,ke,i.imageHandler.errorImageUpload||!i.imageHandler.uploadedImage)),e.xp6(10),e.Q6J("ngIf",i.imageHandler.imageName),e.xp6(1),e.Q6J("ngIf",i.imageHandler.errorImageUpload),e.xp6(1),e.Q6J("ngIf",i.imageHandler.uploadedImage),e.xp6(1),e.Q6J("ngIf",e.lcZ(45,16,i.errors$)),e.xp6(2),e.Q6J("ngIf",!i.showLoading),e.xp6(1),e.Q6J("ngIf",i.showLoading))},directives:[x.a8,s.O5,g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,s.mk,_e.z,M.Hw,s.sg,ue.g],pipes:[s.Ov],styles:["[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]{padding:35px;margin:20px auto 0;width:70%;max-width:1140px;font-size:13px;box-shadow:0 24px 64px #00000008}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .article-type-dropdown[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:27px;padding-left:32px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   form.ng-submitted[_ngcontent-%COMP%]   .danger-border[_ngcontent-%COMP%]{border:1px solid red}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:100%;top:55px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:21px;font-weight:700}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#eaedf3;opacity:1;margin:30px 0}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin-bottom:27px;font-size:14px;padding:14px 32px 12px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:14px 32px 12px;font-size:14px;margin-bottom:27px;height:240px;resize:none}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]{position:relative;min-height:200px;border:1px dashed #6F7C8B;margin-bottom:20px;padding:25px;font-size:14px;text-align:center}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]:hover{border:1px solid #4C6FFF}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;cursor:pointer;opacity:0;left:0;top:0;width:100%;height:100%}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35px;width:auto;margin-bottom:5px;margin-top:15px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   .image-type[_ngcontent-%COMP%]{font-size:13px;margin-bottom:10px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   .upload-desc[_ngcontent-%COMP%]{font-size:14px;color:#6f7c8b80;margin-bottom:5px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   .uploaded-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-uploader[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{height:200px;width:100%;overflow:hidden;position:relative}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:auto;height:200px}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .operate-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border:1px solid #4C6FFF}[_nghost-%COMP%]   .article-fields[_ngcontent-%COMP%]   .operate-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:110px;margin-right:17px}"]}),n})();var Ue=a(1382),b=a(9468);let F=(()=>{class n{constructor(t,i){this.articlesService=t,this.route=i}resolve(t,i){return this.articlesService.getArtcleById(t.params.id),this.articlesService.singleArticle$.pipe((0,b.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.J),e.LFG(_.gz))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ee(n,o){1&n&&e._UZ(0,"img",13)}function Je(n,o){if(1&n&&e._UZ(0,"img",14),2&n){const t=e.oxw(2);e.Q6J("src",t.article.coverImage,e.LSH)}}const Ye=function(n,o,t,i,r){return{"business-background":n,"media-background":o,"productivity-background":t,"article-image":i,"article-image-full":r}};function Ne(n,o){if(1&n&&(e.TgZ(0,"mat-card",1),e.TgZ(1,"div",2),e.YNc(2,Ee,1,0,"img",3),e.YNc(3,Je,1,1,"img",4),e.qZA(),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"date"),e.ALo(11,"articleDaysAgo"),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"h5"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._UZ(20,"img",11),e.qZA(),e.TgZ(21,"div",12),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.qbA(14,Ye,t.article.type===t.articleTypes.business,t.article.type===t.articleTypes.meida,t.article.type===t.articleTypes.productivity,!t.article.coverImage,t.article.coverImage)),e.xp6(1),e.Q6J("ngIf",!t.article.coverImage),e.xp6(1),e.Q6J("ngIf",t.article.coverImage),e.xp6(4),e.Oqu(t.article.type),e.xp6(2),e.Oqu(t.ifDaysAgoNeeded(t.article.updatedDate)?e.xi3(10,9,t.article.updatedDate,"d MMMM YYYY"):e.lcZ(11,12,t.article.updatedDate)),e.xp6(5),e.Oqu(t.article.title),e.xp6(2),e.hij(" ",t.article.description," "),e.xp6(4),e.Q6J("src",t.article.createdBy.image?t.article.createdBy.image:"assets/images/no-avatar-img.png",e.LSH),e.xp6(2),e.hij(" ",t.article.createdBy.name," ")}}let De=(()=>{class n extends h.F{constructor(t,i){super(),this.route=t,this.router=i,this.article=null,this.articleTypes={business:d.po.BUSINESS,productivity:d.po.PRODUCTIVITY,meida:d.po.MEDIA}}ngOnInit(){this.route.data.pipe((0,p.R)(this.destroy$)).subscribe(t=>{t.article||this.router.navigate(["/user-console/articles"]),this.article=t.article})}ifDaysAgoNeeded(t){return!!t&&(new Date).getTime()-t>=1728e6}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-article-desc"]],features:[e.qOj],decls:1,vars:1,consts:[["class","article",4,"ngIf"],[1,"article"],[3,"ngClass"],["src","assets/images/laptop.png","alt","Laptop","class","src",4,"ngIf"],["alt","Cover imaage","class","src",3,"src",4,"ngIf"],[1,"artcle-desc"],[1,"top-desc","d-flex","justify-content-between"],[1,"mid-desc"],[1,"bottom-desc","d-flex","justify-content-between"],[1,"avatar-wrapper","d-flex","justify-content-center","align-items-center"],[1,"user-avatar"],["alt","image",1,"avatar-image",3,"src"],[1,"user-name"],["src","assets/images/laptop.png","alt","Laptop",1,"src"],["alt","Cover imaage",1,"src",3,"src"]],template:function(t,i){1&t&&e.YNc(0,Ne,23,20,"mat-card",0),2&t&&e.Q6J("ngIf",i.article)},directives:[s.O5,x.a8,s.mk],pipes:[s.uU,y],styles:[".article[_ngcontent-%COMP%]{padding:0;font-size:13px;box-shadow:0 24px 64px #00000008;width:80%;max-width:600px;margin:30px auto 0}.article[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]{height:260px;display:flex;justify-content:center;align-items:center}.article[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.article[_ngcontent-%COMP%]   .article-image-full[_ngcontent-%COMP%]{height:250px;overflow:hidden}.article[_ngcontent-%COMP%]   .article-image-full[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.article[_ngcontent-%COMP%]   .media-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#F395BA 0%,#FED182 100%)}.article[_ngcontent-%COMP%]   .productivity-background[_ngcontent-%COMP%]{background:#BCD1FF}.article[_ngcontent-%COMP%]   .business-background[_ngcontent-%COMP%]{background:linear-gradient(0deg,#D2EBF7,#D2EBF7),#BCD1FF}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]{padding:15px 20px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .top-desc[_ngcontent-%COMP%]{color:#6e798c}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .top-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .mid-desc[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:21px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;overflow:hidden;margin-right:10px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:32px;height:32px}.article[_ngcontent-%COMP%]   .artcle-desc[_ngcontent-%COMP%]   .bottom-desc[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#2e5bff}"]}),n})();var Se=a(5804),Le=a(4753);const Qe=[{path:"",component:I,children:[{path:"",component:pe},{path:"new",component:w},{path:":id",component:De,resolve:{article:F}},{path:":id/edit",component:w,resolve:{article:F},canActivate:[(()=>{class n{constructor(t,i,r){this.articlesService=t,this.auth=i,this.router=r}canActivate(t,i){return this.articlesService.getArtcleById(t.params.id),(0,Se.a)([this.auth.user,this.articlesService.singleArticle$]).pipe((0,b.q)(1),(0,Le.U)(([r,c])=>r&&c&&(null==r?void 0:r.id)===(null==c?void 0:c.createdBy.uid)||this.router.createUrlTree(["/auth/login"])))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.J),e.LFG(P.e),e.LFG(_.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}]}];let He=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.ez,Ue.m,g.UX,_.Bz.forChild(Qe)]]}),n})()}}]);